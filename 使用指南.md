# 🚀 DeepCode CLI 使用指南 - 豆包增强版

## 📦 安装方式

### 方法1: 全局安装（推荐）
```bash
npm install -g deepcode-cli@latest
```

### 方法2: 临时使用
```bash
npx deepcode-cli@latest
```

### 方法3: 直接下载使用
```bash
# 下载并运行
npm pack deepcode-cli@latest
tar -xf deepcode-cli-1.1.0.tgz
cd package && node deepcode
```

## 🔧 配置豆包模型

### 1. 获取豆包API密钥
- 访问豆包开放平台: https://console.volcengine.com/ark
- 创建应用并获取API Key
- 注意：请使用你自己的API密钥，不要使用示例中的占位符

### 2. 设置环境变量
```bash
# 设置豆包API密钥
export DOUBAO_API_KEY="your-doubao-api-key"

# 或者写入环境配置文件
echo 'export DOUBAO_API_KEY="your-doubao-api-key"' >> ~/.zshrc
source ~/.zshrc
```

## 🎯 使用方法

### 启动DeepCode CLI
```bash
# 方法1: 直接启动（自动检测模型）
deepcode

# 方法2: 指定模型启动
deepcode --model doubao

# 方法3: 单次问答
deepcode --ask "解释一下递归算法"
```

## 💻 主要功能

### 1. 🔍 项目分析
```bash
# 进入你的项目目录
cd /path/to/your/project

# 启动DeepCode CLI
deepcode

# 在交互界面中使用
> /init          # 自动分析项目并生成GEMINI.md
> 分析这个项目的架构设计
```

### 2. 📝 代码审查
```bash
# 审查特定文件
> 请审查 src/main.js 这个文件的代码质量

# 审查整个目录
> 帮我审查 src/ 目录下的所有代码
```

### 3. 🧪 测试生成
```bash
# 为函数生成测试
> 为 utils/calculator.js 中的函数生成单元测试

# 生成集成测试
> 为这个API接口生成集成测试用例
```

### 4. 🔧 代码重构
```bash
# 重构建议
> 这个函数太长了，帮我重构一下：
function processData(data) {
  // 你的代码...
}

# 性能优化
> 帮我优化这段代码的性能
```

### 5. 📚 代码解释
```bash
# 解释复杂算法
> 解释一下这个快速排序算法的实现原理

# 解释架构设计
> 解释一下这个微服务架构是怎么工作的
```

## 🌟 豆包模型特色功能

### 中文编程支持
```bash
> 帮我写一个用户注册的函数，要求有详细的中文注释
> 生成一个购物车的类，包含中文说明文档
```

### 图文混合分析
```bash
> 分析这个流程图，并生成对应的代码实现
> 根据这个UI截图，生成相应的HTML和CSS代码
```

### 推理增强模式
```bash
> 这个bug很复杂，帮我一步步分析问题的根本原因
> 设计一个分布式系统架构，详细解释每个组件的作用
```

## 🎛️ 高级配置

### 切换模型
```bash
# 在同一项目中切换不同AI模型

# 使用Gemini
export GEMINI_API_KEY="your-gemini-key"
deepcode --model gemini

# 使用豆包
export DOUBAO_API_KEY="your-doubao-key" 
deepcode --model doubao

# 使用Vertex AI
export GOOGLE_CLOUD_PROJECT="your-project"
export GOOGLE_CLOUD_LOCATION="us-central1"
deepcode --model vertex-ai
```

### 自定义配置
```bash
# 调试模式
deepcode --debug

# 指定工作目录
deepcode --target-dir /path/to/project

# YOLO模式（自动同意所有操作）
deepcode --yolo
```

## 🚀 实用示例

### 示例1: 新项目初始化
```bash
# 1. 进入项目目录
cd my-new-project

# 2. 启动DeepCode CLI
deepcode

# 3. 初始化项目分析
> /init

# 4. 让AI帮你设计架构
> 这是一个电商网站项目，帮我设计整体架构
```

### 示例2: 代码审查流程
```bash
# 启动审查
deepcode

# 全面审查
> 请全面审查这个项目，重点关注：
> 1. 代码质量和最佳实践
> 2. 安全性问题
> 3. 性能优化点
> 4. 可维护性改进建议
```

### 示例3: AI结对编程
```bash
deepcode

> 我想实现一个Redis缓存管理器，你能帮我一步步实现吗？
> 
> 需要支持：
> - 连接池管理
> - 自动过期
> - 序列化/反序列化
> - 错误重试机制
```

## 📊 性能和限制

### 豆包模型性能
- **响应速度**: 1-3秒
- **上下文长度**: 支持长对话
- **中文理解**: 优秀
- **代码生成**: 专业级别

### 使用建议
- 对于中文项目，推荐使用豆包模型
- 复杂的架构设计可以使用推理增强模式
- 代码审查时提供具体的关注点
- 大型项目建议分模块进行分析

## 🔧 故障排除

### 常见问题
```bash
# 1. API密钥问题
Error: DOUBAO_API_KEY not found
# 解决：export DOUBAO_API_KEY="your-key"

# 2. 网络连接问题  
Error: Request timeout
# 解决：检查网络连接，或使用代理

# 3. 权限问题
Error: EACCES permission denied
# 解决：使用 sudo npm install -g deepcode-cli
```

### 获取帮助
```bash
# 查看帮助
deepcode --help

# 查看版本
deepcode --version

# 联系支持
# GitHub: https://github.com/guocong-bincai/deepcode-cli
# Issues: https://github.com/guocong-bincai/deepcode-cli/issues
```

## 🎉 开始使用

```bash
# 一条命令开始AI编程之旅
export DOUBAO_API_KEY="your-doubao-api-key" && npx deepcode-cli@latest
```

**享受豆包增强的AI编程体验！** 🚀
